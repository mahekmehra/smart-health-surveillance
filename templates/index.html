{% extends 'base.html' %}
{% block title %}Home · Smart Health Surveillance{% endblock %}
{% block content %}
    <nav class="section-nav">
        <a href="#report">Report</a>
        <a href="#predict">Predict</a>
        <a href="#apis">APIs</a>
        <a href="#chat">Chatbot</a>
    </nav>
    <section id="report" class="card">
        <div class="card-header"><h2>Report Symptoms</h2></div>
        <div class="card-body">
    <form id="reportForm" class="form-container">
        <div class="form-group">
            <label for="symptom">Enter Symptom</label>
            <input type="text" name="symptom" id="symptom" placeholder="e.g., diarrhea" required>
        </div>
        <div class="form-group">
            <label for="location">Enter Location</label>
            <input type="text" name="location" id="location" placeholder="e.g., Ferozepur" required>
        </div>
        <div class="form-group">
            <label for="count">Enter Case Count</label>
            <input type="number" name="count" id="count" placeholder="Number of cases" value="1">
        </div>
        <button type="submit">Submit</button>
    </form>
        </div>
    </section>

    <section id="predict" class="card">
        <div class="card-header"><h2>Outbreak Prediction</h2></div>
        <div class="card-body">
    <form id="predictForm" class="form-container">
        <div class="form-group">
            <label for="diarrhea">Enter Diarrhea Cases</label>
            <input type="number" name="diarrhea" id="diarrhea" placeholder="Diarrhea cases" value="10000">
        </div>
        <div class="form-group">
            <label for="typhoid">Enter Typhoid Cases</label>
            <input type="number" name="typhoid" id="typhoid" placeholder="Typhoid cases" value="300">
        </div>
        <div class="form-group">
            <label for="cholera">Enter Cholera Cases</label>
            <input type="number" name="cholera" id="cholera" placeholder="Cholera cases" value="100">
        </div>
        <div class="form-group">
            <label for="hepatitis">Enter Hepatitis Cases</label>
            <input type="number" name="hepatitis" id="hepatitis" placeholder="Hepatitis cases" value="200">
        </div>
        <button type="submit">Predict Risk</button>
    </form>
    <div id="predResult"></div>
        </div>
    </section>

    <section id="apis" class="card">
        <div class="card-header"><h2>API Fetch (Simulated)</h2></div>
        <div class="card-body">
            <button onclick="fetchHealth()">Fetch Health Data</button>
            <div id="healthData"></div>
            <button onclick="fetchWater()">Fetch Water Data</button>
            <div id="waterData"></div>
        </div>
    </section>

   <section id="chat"class="card chat-card" style="background-color:#fffaf5; border:2px solid #d8c3a5; border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.1); padding:15px; color:#2b1e16;">
  <div class="card-header" style="background:linear-gradient(135deg,#d8c3a5,#b3926a); color:#2b1e16; text-align:center; padding:12px; border-radius:10px;">
    <h2 style="margin:0; font-family:'Poppins',sans-serif; font-weight:700;">Chatbot for Health Education</h2>
  </div>
  <div class="card-body" style="padding:16px;">
    <div style="margin-bottom:8px;">
      <select id="language" style="padding:8px; border:1px solid #d8c3a5; border-radius:8px; background-color:#f8f5f2; color:#2b1e16; font-weight:500;">
        <option value="english">English</option>
        <option value="hindi">Hindi</option>
        <option value="punjabi">Punjabi</option>
      </select>
    </div>
    <div id="chatbox" style="height:320px; overflow-y:auto; border:1px solid #eadfd3; background:linear-gradient(180deg,#fffaf5,#f8f5f2); border-radius:10px; padding:12px; box-shadow:inset 0 2px 4px rgba(0,0,0,0.05);"></div>
    <div class="chat-row" style="display:flex; gap:10px; margin-top:10px;">
      <input class="chat-input" type="text" id="userInput" placeholder="Ask about health..." style="flex:1; padding:10px; border-radius:8px; border:1px solid #d8c3a5; background-color:#f8f5f2; color:#2b1e16; font-size:15px;">
      <button id="sendBtn" onclick="sendMessage()" style="background-color:#b3926a; color:white; border:none; border-radius:8px; padding:10px 16px; font-weight:600; cursor:pointer; box-shadow:0 3px 6px rgba(0,0,0,0.1);">Send</button>
    </div>
    <div id="typing" class="typing" style="display:none; margin-top:8px; font-style:italic; color:#7c6a5a;">Bot is typing…</div>
  </div>
</section>
    </section>
{% endblock %}